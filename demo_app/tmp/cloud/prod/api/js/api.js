 $(initLoaderPage); function initLoaderPage() { $('*[data-page]').unbind().click(function() { let name = $(this).attr('data-page'); if( $(this).attr('data-name') != undefined ) window.isiklub_pageLoad = $(this).attr('data-name'); else window.isiklub_pageLoad = name; loadPage( name ); }); } function loadPage( name ) { let $main = $( "#api_pageLoader" ); $main.fadeOut("slow",function() { $main.html('').unbind(); $main.load('./html/'+name+'.html',function() { GestTab(); initLoaderPage(); $main.fadeIn("slow"); }); }); } function debounce(callback, delay){ var timer; return function(){ var args = arguments; var context = this; clearTimeout(timer); timer = setTimeout(function(){ callback.apply(context, args); }, delay) } } function throttle(callback, delay) { var last; var timer; return function () { var context = this; var now = +new Date(); var args = arguments; if (last && now < last + delay) { clearTimeout(timer); timer = setTimeout(function () { last = now; callback.apply(context, args); }, delay); } else { last = now; callback.apply(context, args); } }; } function GestTab() { $('thead th ').attr('data-sort',"string"); var table = $("table").stupidtable(); $('.pre-arrow').remove(); table.on("aftertablesort", function (event, data) { $('.pre-arrow').remove(); var th = $(this).find("th"); th.find(".arrow").remove(); var dir = $.fn.stupidtable.dir; var arrow = data.direction === dir.ASC ? "down" : "up"; th.eq(data.column).append('<i class="arrow fa fa-chevron-'+arrow+'" aria-hidden="true"></i>'); }); $(".exportExcel").click(function(e) { let table = $(this).attr('id-table'); let name = $(this).attr('table-name'); let html = $('#'+table).html(); html = html.replace('/€/g',''); html = html.replace('/é/g','e'); html = html.replace('/è/g','e'); html = html.replace('/ê/g','e'); html = html.replace('/ë/g','e'); html = html.replace('/ç/g','c'); html = html.replace('/à/g','a'); window.open('data:application/vnd.ms-excel; charset=UTF-8,' + encodeURIComponent(html) ); e.preventDefault(); }); }